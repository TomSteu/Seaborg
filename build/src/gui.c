/* gui.c generated by valac 0.36.6, the Vala compiler
 * generated from gui.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gtk/gtk.h>
#include <gio/gio.h>


#define SEABORG_TYPE_EVALUATION_DATA (seaborg_evaluation_data_get_type ())
typedef struct _SeaborgEvaluationData SeaborgEvaluationData;
#define _g_free0(var) (var = (g_free (var), NULL))

#define SEABORG_TYPE_SEABORG_APPLICATION (seaborg_seaborg_application_get_type ())
#define SEABORG_SEABORG_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEABORG_TYPE_SEABORG_APPLICATION, SeaborgSeaborgApplication))
#define SEABORG_SEABORG_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SEABORG_TYPE_SEABORG_APPLICATION, SeaborgSeaborgApplicationClass))
#define SEABORG_IS_SEABORG_APPLICATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEABORG_TYPE_SEABORG_APPLICATION))
#define SEABORG_IS_SEABORG_APPLICATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SEABORG_TYPE_SEABORG_APPLICATION))
#define SEABORG_SEABORG_APPLICATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SEABORG_TYPE_SEABORG_APPLICATION, SeaborgSeaborgApplicationClass))

typedef struct _SeaborgSeaborgApplication SeaborgSeaborgApplication;
typedef struct _SeaborgSeaborgApplicationClass SeaborgSeaborgApplicationClass;
typedef struct _SeaborgSeaborgApplicationPrivate SeaborgSeaborgApplicationPrivate;

#define SEABORG_TYPE_NOTEBOOK (seaborg_notebook_get_type ())
#define SEABORG_NOTEBOOK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEABORG_TYPE_NOTEBOOK, SeaborgNotebook))
#define SEABORG_NOTEBOOK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SEABORG_TYPE_NOTEBOOK, SeaborgNotebookClass))
#define SEABORG_IS_NOTEBOOK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEABORG_TYPE_NOTEBOOK))
#define SEABORG_IS_NOTEBOOK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SEABORG_TYPE_NOTEBOOK))
#define SEABORG_NOTEBOOK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SEABORG_TYPE_NOTEBOOK, SeaborgNotebookClass))

typedef struct _SeaborgNotebook SeaborgNotebook;
typedef struct _SeaborgNotebookClass SeaborgNotebookClass;
typedef struct _Block1Data Block1Data;

#define SEABORG_TYPE_EVALUATION_CELL (seaborg_evaluation_cell_get_type ())
#define SEABORG_EVALUATION_CELL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEABORG_TYPE_EVALUATION_CELL, SeaborgEvaluationCell))
#define SEABORG_EVALUATION_CELL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SEABORG_TYPE_EVALUATION_CELL, SeaborgEvaluationCellClass))
#define SEABORG_IS_EVALUATION_CELL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEABORG_TYPE_EVALUATION_CELL))
#define SEABORG_IS_EVALUATION_CELL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SEABORG_TYPE_EVALUATION_CELL))
#define SEABORG_EVALUATION_CELL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SEABORG_TYPE_EVALUATION_CELL, SeaborgEvaluationCellClass))

typedef struct _SeaborgEvaluationCell SeaborgEvaluationCell;
typedef struct _SeaborgEvaluationCellClass SeaborgEvaluationCellClass;

#define SEABORG_TYPE_ICELL (seaborg_icell_get_type ())
#define SEABORG_ICELL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEABORG_TYPE_ICELL, SeaborgICell))
#define SEABORG_IS_ICELL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEABORG_TYPE_ICELL))
#define SEABORG_ICELL_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SEABORG_TYPE_ICELL, SeaborgICellIface))

typedef struct _SeaborgICell SeaborgICell;
typedef struct _SeaborgICellIface SeaborgICellIface;

#define SEABORG_TYPE_ICELL_CONTAINER (seaborg_icell_container_get_type ())
#define SEABORG_ICELL_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEABORG_TYPE_ICELL_CONTAINER, SeaborgICellContainer))
#define SEABORG_IS_ICELL_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEABORG_TYPE_ICELL_CONTAINER))
#define SEABORG_ICELL_CONTAINER_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SEABORG_TYPE_ICELL_CONTAINER, SeaborgICellContainerIface))

typedef struct _SeaborgICellContainer SeaborgICellContainer;
typedef struct _SeaborgICellContainerIface SeaborgICellContainerIface;

#define SEABORG_TYPE_ADD_BUTTON (seaborg_add_button_get_type ())
#define SEABORG_ADD_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SEABORG_TYPE_ADD_BUTTON, SeaborgAddButton))
#define SEABORG_ADD_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SEABORG_TYPE_ADD_BUTTON, SeaborgAddButtonClass))
#define SEABORG_IS_ADD_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SEABORG_TYPE_ADD_BUTTON))
#define SEABORG_IS_ADD_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SEABORG_TYPE_ADD_BUTTON))
#define SEABORG_ADD_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SEABORG_TYPE_ADD_BUTTON, SeaborgAddButtonClass))

typedef struct _SeaborgAddButton SeaborgAddButton;
typedef struct _SeaborgAddButtonClass SeaborgAddButtonClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define __g_queue_free__seaborg_evaluation_data_free0_0(var) ((var == NULL) ? NULL : (var = (_g_queue_free__seaborg_evaluation_data_free0_ (var), NULL)))
#define _g_thread_unref0(var) ((var == NULL) ? NULL : (var = (g_thread_unref (var), NULL)))
#define _seaborg_evaluation_data_free0(var) ((var == NULL) ? NULL : (var = (seaborg_evaluation_data_free (var), NULL)))

struct _SeaborgEvaluationData {
	void* cell;
	gchar* input;
};

struct _SeaborgSeaborgApplication {
	GtkApplication parent_instance;
	SeaborgSeaborgApplicationPrivate * priv;
	SeaborgNotebook* notebook;
};

struct _SeaborgSeaborgApplicationClass {
	GtkApplicationClass parent_class;
};

struct _SeaborgSeaborgApplicationPrivate {
	SeaborgEvaluationData current_cell;
	GtkApplicationWindow* main_window;
	GtkHeaderBar* main_headerbar;
	GtkStackSwitcher* tab_switcher;
	GtkStack* notebook_stack;
	GMenu* main_menu;
	GtkScrolledWindow* notebook_scroll;
	GtkShortcutsWindow* shortcuts;
	void* kernel_connection;
	GQueue* eval_queue;
	GRecMutex __lock_eval_queue;
	GThread* listener_thread;
	gboolean listener_thread_is_running;
};

typedef void (*SeaborgSeaborgApplicationcallback_str) (gchar* string_to_write, void* callback_data, gulong stamp, gint break_after);
struct _Block1Data {
	int _ref_count_;
	gchar* string_to_write;
	void* cell_ptr;
	gulong _stamp;
	gint _break;
};

struct _SeaborgICellContainerIface {
	GTypeInterface parent_iface;
	GArray* (*get_Children) (SeaborgICellContainer* self);
	void (*set_Children) (SeaborgICellContainer* self, GArray* value);
	GArray* (*get_AddButtons) (SeaborgICellContainer* self);
	void (*set_AddButtons) (SeaborgICellContainer* self, GArray* value);
};

struct _SeaborgICellIface {
	GTypeInterface parent_iface;
	void (*toggle_all) (SeaborgICell* self);
	void (*untoggle_all) (SeaborgICell* self);
	void (*expand_all) (SeaborgICell* self);
	void (*collapse_all) (SeaborgICell* self);
	gboolean (*marker_selected) (SeaborgICell* self);
	guint (*get_level) (SeaborgICell* self);
	void (*remove_recursively) (SeaborgICell* self);
	void (*add_before) (SeaborgICell* self, gint pos, SeaborgICell** list, int list_length1);
	void (*remove_from) (SeaborgICell* self, gint pos, gint number, gboolean trash);
	void (*focus_cell) (SeaborgICell* self);
	void (*set_text) (SeaborgICell* self, const gchar* _text);
	gchar* (*get_text) (SeaborgICell* self);
	SeaborgICellContainer* (*get_Parent) (SeaborgICell* self);
	void (*set_Parent) (SeaborgICell* self, SeaborgICellContainer* value);
	gboolean (*get_lock) (SeaborgICell* self);
	void (*set_lock) (SeaborgICell* self, gboolean value);
};


static gpointer seaborg_seaborg_application_parent_class = NULL;
extern gulong seaborg_seaborg_application_global_stamp;
GRecMutex __lock_seaborg_seaborg_application_global_stamp = {0};
gulong seaborg_seaborg_application_global_stamp = (gulong) 0;
static SeaborgSeaborgApplicationcallback_str seaborg_seaborg_application_write_to_evaluation_cell;
static SeaborgSeaborgApplicationcallback_str seaborg_seaborg_application_write_to_evaluation_cell = NULL;

GType seaborg_evaluation_data_get_type (void) G_GNUC_CONST;
SeaborgEvaluationData* seaborg_evaluation_data_dup (const SeaborgEvaluationData* self);
void seaborg_evaluation_data_free (SeaborgEvaluationData* self);
void seaborg_evaluation_data_copy (const SeaborgEvaluationData* self, SeaborgEvaluationData* dest);
void seaborg_evaluation_data_destroy (SeaborgEvaluationData* self);
GType seaborg_seaborg_application_get_type (void) G_GNUC_CONST;
GType seaborg_notebook_get_type (void) G_GNUC_CONST;
#define SEABORG_SEABORG_APPLICATION_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SEABORG_TYPE_SEABORG_APPLICATION, SeaborgSeaborgApplicationPrivate))
enum  {
	SEABORG_SEABORG_APPLICATION_DUMMY_PROPERTY
};
static void _seaborg_seaborg_application_write_to_evaluation_cell_lambda4_ (gchar* _string_to_write, void* cell_ptr, gulong _stamp, gint _break);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static gboolean __lambda5_ (Block1Data* _data1_);
GType seaborg_evaluation_cell_get_type (void) G_GNUC_CONST;
void seaborg_evaluation_cell_add_text (SeaborgEvaluationCell* self, const gchar* _text);
GType seaborg_add_button_get_type (void) G_GNUC_CONST;
GType seaborg_icell_container_get_type (void) G_GNUC_CONST;
GType seaborg_icell_get_type (void) G_GNUC_CONST;
void seaborg_icell_expand_all (SeaborgICell* self);
void seaborg_icell_set_lock (SeaborgICell* self, gboolean value);
static gboolean ___lambda5__gsource_func (gpointer self);
static void __seaborg_seaborg_application_write_to_evaluation_cell_lambda4__seaborgseaborgapplicationcallback_str (gchar* string_to_write, void* callback_data, gulong stamp, gint break_after);
static void _seaborg_evaluation_data_free0_ (gpointer var);
static void _g_queue_free__seaborg_evaluation_data_free0_ (GQueue* self);
static void seaborg_seaborg_application_real_activate (GApplication* base);
SeaborgNotebook* seaborg_notebook_new (void);
SeaborgNotebook* seaborg_notebook_construct (GType object_type);
SeaborgEvaluationCell* seaborg_evaluation_cell_new (SeaborgICellContainer* par);
SeaborgEvaluationCell* seaborg_evaluation_cell_construct (GType object_type, SeaborgICellContainer* par);
void seaborg_icell_add_before (SeaborgICell* self, gint pos, SeaborgICell** list, int list_length1);
static void seaborg_seaborg_application_real_startup (GApplication* base);
static void __lambda15_ (SeaborgSeaborgApplication* self);
static void ___lambda15__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void __lambda16_ (SeaborgSeaborgApplication* self);
static void ___lambda16__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void __lambda17_ (SeaborgSeaborgApplication* self);
static void ___lambda17__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void __lambda18_ (SeaborgSeaborgApplication* self);
static void ___lambda18__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void __lambda19_ (SeaborgSeaborgApplication* self);
void seaborg_icell_remove_recursively (SeaborgICell* self);
static void ___lambda19__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void __lambda20_ (SeaborgSeaborgApplication* self);
void seaborg_seaborg_application_schedule_evaluation (SeaborgSeaborgApplication* self, SeaborgICellContainer* container);
static void ___lambda20__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void __lambda24_ (SeaborgSeaborgApplication* self);
gint try_abort (void* con);
static void ___lambda24__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void seaborg_seaborg_application_reset_kernel (SeaborgSeaborgApplication* self);
GArray* seaborg_icell_container_get_Children (SeaborgICellContainer* self);
gboolean seaborg_icell_marker_selected (SeaborgICell* self);
gboolean seaborg_icell_get_lock (SeaborgICell* self);
gboolean seaborg_check_input_packet (const gchar* _str);
gchar* seaborg_icell_get_text (SeaborgICell* self);
void seaborg_evaluation_cell_remove_text (SeaborgEvaluationCell* self);
gchar* seaborg_replace_characters (const gchar* _str);
void seaborg_seaborg_application_start_evalutation_thread (SeaborgSeaborgApplication* self);
static void* ___lambda21_ (SeaborgSeaborgApplication* self);
gint check_connection (void* con);
static gboolean ____lambda22_ (SeaborgSeaborgApplication* self);
static void seaborg_seaborg_application_abort_eval (SeaborgSeaborgApplication* self);
static gboolean _____lambda22__gsource_func (gpointer self);
void evaluate (void* con, gchar* input, SeaborgSeaborgApplicationcallback_str callback, void* callback_data);
static gboolean ____lambda23_ (SeaborgSeaborgApplication* self);
static gboolean _____lambda23__gsource_func (gpointer self);
static gpointer ____lambda21__gthread_func (gpointer self);
gint try_reset_after_abort (void* con);
void seaborg_seaborg_application_kernel_msg (SeaborgSeaborgApplication* self, const gchar* _error_);
void close_connection (void* connection);
void* init_connection (gchar* path);
SeaborgSeaborgApplication* seaborg_seaborg_application_new (void);
SeaborgSeaborgApplication* seaborg_seaborg_application_construct (GType object_type);
static void seaborg_seaborg_application_finalize (GObject * obj);
gint seaborg_main (gchar** args, int args_length1);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


void seaborg_evaluation_data_copy (const SeaborgEvaluationData* self, SeaborgEvaluationData* dest) {
	void* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	_tmp0_ = (*self).cell;
	(*dest).cell = _tmp0_;
	_tmp1_ = (*self).input;
	_tmp2_ = g_strdup (_tmp1_);
	_g_free0 ((*dest).input);
	(*dest).input = _tmp2_;
}


void seaborg_evaluation_data_destroy (SeaborgEvaluationData* self) {
	_g_free0 ((*self).input);
}


SeaborgEvaluationData* seaborg_evaluation_data_dup (const SeaborgEvaluationData* self) {
	SeaborgEvaluationData* dup;
	dup = g_new0 (SeaborgEvaluationData, 1);
	seaborg_evaluation_data_copy (self, dup);
	return dup;
}


void seaborg_evaluation_data_free (SeaborgEvaluationData* self) {
	seaborg_evaluation_data_destroy (self);
	g_free (self);
}


GType seaborg_evaluation_data_get_type (void) {
	static volatile gsize seaborg_evaluation_data_type_id__volatile = 0;
	if (g_once_init_enter (&seaborg_evaluation_data_type_id__volatile)) {
		GType seaborg_evaluation_data_type_id;
		seaborg_evaluation_data_type_id = g_boxed_type_register_static ("SeaborgEvaluationData", (GBoxedCopyFunc) seaborg_evaluation_data_dup, (GBoxedFreeFunc) seaborg_evaluation_data_free);
		g_once_init_leave (&seaborg_evaluation_data_type_id__volatile, seaborg_evaluation_data_type_id);
	}
	return seaborg_evaluation_data_type_id__volatile;
}


static Block1Data* block1_data_ref (Block1Data* _data1_) {
	g_atomic_int_inc (&_data1_->_ref_count_);
	return _data1_;
}


static void block1_data_unref (void * _userdata_) {
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
		_g_free0 (_data1_->string_to_write);
		g_slice_free (Block1Data, _data1_);
	}
}


static gboolean __lambda5_ (Block1Data* _data1_) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	{
		gulong _tmp0_;
		_tmp0_ = seaborg_seaborg_application_global_stamp;
		g_rec_mutex_lock (&__lock_seaborg_seaborg_application_global_stamp);
		{
			gulong _tmp1_;
			gulong _tmp2_;
			SeaborgEvaluationCell* cell_to_write = NULL;
			void* _tmp6_;
			SeaborgEvaluationCell* _tmp7_;
			gulong _tmp17_;
			_tmp1_ = seaborg_seaborg_application_global_stamp;
			_tmp2_ = _data1_->_stamp;
			if (_tmp1_ != _tmp2_) {
				gulong _tmp3_;
				_tmp3_ = seaborg_seaborg_application_global_stamp;
				if (_tmp3_ == ((gulong) 0)) {
					result = FALSE;
					{
						gulong _tmp4_;
						_tmp4_ = seaborg_seaborg_application_global_stamp;
						g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
					}
					return result;
				}
				result = TRUE;
				{
					gulong _tmp5_;
					_tmp5_ = seaborg_seaborg_application_global_stamp;
					g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
				}
				return result;
			}
			_tmp6_ = _data1_->cell_ptr;
			cell_to_write = (SeaborgEvaluationCell*) _tmp6_;
			_tmp7_ = cell_to_write;
			if (_tmp7_ != NULL) {
				const gchar* _tmp8_;
				gint _tmp14_;
				_tmp8_ = _data1_->string_to_write;
				if (g_strcmp0 (_tmp8_, "") != 0) {
					SeaborgEvaluationCell* _tmp9_;
					const gchar* _tmp10_;
					gchar* _tmp11_;
					gchar* _tmp12_;
					SeaborgEvaluationCell* _tmp13_;
					_tmp9_ = cell_to_write;
					_tmp10_ = _data1_->string_to_write;
					_tmp11_ = g_strconcat ("\n", _tmp10_, NULL);
					_tmp12_ = _tmp11_;
					seaborg_evaluation_cell_add_text (_tmp9_, _tmp12_);
					_g_free0 (_tmp12_);
					_tmp13_ = cell_to_write;
					seaborg_icell_expand_all ((SeaborgICell*) _tmp13_);
				}
				_tmp14_ = _data1_->_break;
				if (_tmp14_ != 0) {
					SeaborgEvaluationCell* _tmp15_;
					_tmp15_ = cell_to_write;
					seaborg_icell_set_lock ((SeaborgICell*) _tmp15_, FALSE);
					seaborg_seaborg_application_global_stamp = (gulong) 0;
					result = FALSE;
					{
						gulong _tmp16_;
						_tmp16_ = seaborg_seaborg_application_global_stamp;
						g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
					}
					return result;
				}
			}
			_tmp17_ = seaborg_seaborg_application_global_stamp;
			seaborg_seaborg_application_global_stamp = _tmp17_ + 1;
			result = FALSE;
			{
				gulong _tmp18_;
				_tmp18_ = seaborg_seaborg_application_global_stamp;
				g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
			}
			return result;
		}
		__finally0:
		{
			gulong _tmp19_;
			_tmp19_ = seaborg_seaborg_application_global_stamp;
			g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
		}
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			gboolean _tmp20_ = FALSE;
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return _tmp20_;
		}
	}
}


static gboolean ___lambda5__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda5_ (self);
	return result;
}


static void _seaborg_seaborg_application_write_to_evaluation_cell_lambda4_ (gchar* _string_to_write, void* cell_ptr, gulong _stamp, gint _break) {
	Block1Data* _data1_;
	void* _tmp0_;
	gulong _tmp1_;
	gint _tmp2_;
	gchar* _tmp3_;
	_data1_ = g_slice_new0 (Block1Data);
	_data1_->_ref_count_ = 1;
	_tmp0_ = cell_ptr;
	_data1_->cell_ptr = _tmp0_;
	_tmp1_ = _stamp;
	_data1_->_stamp = _tmp1_;
	_tmp2_ = _break;
	_data1_->_break = _tmp2_;
	_tmp3_ = _string_to_write;
	if (_tmp3_ == NULL) {
		gchar* _tmp4_;
		_tmp4_ = g_strdup ("");
		_g_free0 (_data1_->string_to_write);
		_data1_->string_to_write = _tmp4_;
	} else {
		gchar* _tmp5_;
		gchar* _tmp6_;
		_tmp5_ = _string_to_write;
		_tmp6_ = g_strdup ((const gchar*) _tmp5_);
		_g_free0 (_data1_->string_to_write);
		_data1_->string_to_write = _tmp6_;
	}
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda5__gsource_func, block1_data_ref (_data1_), block1_data_unref);
	block1_data_unref (_data1_);
	_data1_ = NULL;
	return;
}


static void __seaborg_seaborg_application_write_to_evaluation_cell_lambda4__seaborgseaborgapplicationcallback_str (gchar* string_to_write, void* callback_data, gulong stamp, gint break_after) {
	_seaborg_seaborg_application_write_to_evaluation_cell_lambda4_ (string_to_write, callback_data, stamp, break_after);
}


static void _seaborg_evaluation_data_free0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (seaborg_evaluation_data_free (var), NULL));
}


static void _g_queue_free__seaborg_evaluation_data_free0_ (GQueue* self) {
	g_queue_foreach (self, (GFunc) _seaborg_evaluation_data_free0_, NULL);
	g_queue_free (self);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void seaborg_seaborg_application_real_activate (GApplication* base) {
	SeaborgSeaborgApplication * self;
	GtkApplicationWindow* _tmp0_;
	GtkHeaderBar* _tmp1_;
	GtkStackSwitcher* _tmp2_;
	GtkStack* _tmp3_;
	GtkScrolledWindow* _tmp4_;
	SeaborgNotebook* _tmp5_;
	gchar* shortcut_builder_string = NULL;
	gchar* _tmp6_;
	GtkBuilder* shortcut_builder = NULL;
	gint _tmp7_;
	gint _tmp8_;
	GtkBuilder* _tmp9_;
	GObject* _tmp10_;
	GtkShortcutsWindow* _tmp11_;
	SeaborgEvaluationCell* cellA = NULL;
	SeaborgNotebook* _tmp12_;
	SeaborgEvaluationCell* _tmp13_;
	SeaborgNotebook* _tmp14_;
	SeaborgICell* _tmp15_;
	SeaborgICell** _tmp16_;
	SeaborgICell** _tmp17_;
	gint _tmp17__length1;
	GtkStackSwitcher* _tmp18_;
	GtkStack* _tmp19_;
	GtkStack* _tmp20_;
	SeaborgNotebook* _tmp21_;
	GtkHeaderBar* _tmp22_;
	GtkHeaderBar* _tmp23_;
	GtkStackSwitcher* _tmp24_;
	GtkScrolledWindow* _tmp25_;
	GtkStack* _tmp26_;
	GtkApplicationWindow* _tmp27_;
	GtkApplicationWindow* _tmp28_;
	GtkHeaderBar* _tmp29_;
	GtkApplicationWindow* _tmp30_;
	GtkScrolledWindow* _tmp31_;
	GtkApplicationWindow* _tmp32_;
	GtkShortcutsWindow* _tmp33_;
	GtkApplicationWindow* _tmp34_;
	GtkApplicationWindow* _tmp35_;
	GtkApplicationWindow* _tmp36_;
	self = (SeaborgSeaborgApplication*) base;
	g_application_set_resource_base_path ((GApplication*) self, "/tst/seaborg/./res/");
	_tmp0_ = (GtkApplicationWindow*) gtk_application_window_new ((GtkApplication*) self);
	g_object_ref_sink (_tmp0_);
	_g_object_unref0 (self->priv->main_window);
	self->priv->main_window = _tmp0_;
	_tmp1_ = (GtkHeaderBar*) gtk_header_bar_new ();
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->priv->main_headerbar);
	self->priv->main_headerbar = _tmp1_;
	_tmp2_ = (GtkStackSwitcher*) gtk_stack_switcher_new ();
	g_object_ref_sink (_tmp2_);
	_g_object_unref0 (self->priv->tab_switcher);
	self->priv->tab_switcher = _tmp2_;
	_tmp3_ = (GtkStack*) gtk_stack_new ();
	g_object_ref_sink (_tmp3_);
	_g_object_unref0 (self->priv->notebook_stack);
	self->priv->notebook_stack = _tmp3_;
	_tmp4_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->priv->notebook_scroll);
	self->priv->notebook_scroll = _tmp4_;
	_tmp5_ = seaborg_notebook_new ();
	g_object_ref_sink (_tmp5_);
	_g_object_unref0 (self->notebook);
	self->notebook = _tmp5_;
	_tmp6_ = g_strdup ("<?xml version=\"1.0\" encoding=\"UTF-8\"?>" "<interface>" "<object class=\"GtkShortcutsWindow\" id=\"shortcuts\">" "<property name=\"modal\">1</property>" "<child>" "<object class=\"GtkShortcutsSection\">" "<property name=\"visible\">1</property>" "<property name=\"section-name\">shortcuts</property>" "<property name=\"max-height\">12</property>" "<child>" "<object class=\"GtkShortcutsGroup\">" "<property name=\"visible\">1</property>" "<property name=\"title\" translatable=\"yes\">Window</property>" "<child>" "<object class=\"GtkShortcutsShortcut\">" "<property name=\"visible\">1</property>" "<property name=\"accelerator\">&lt;ctrl&gt;N</property>" "<property name=\"title\" translatable=\"yes\">Create new notebook</pro" \
"perty>" "</object>" "</child>" "<child>" "<object class=\"GtkShortcutsShortcut\">" "<property name=\"visible\">1</property>" "<property name=\"accelerator\">&lt;ctrl&gt;O</property>" "<property name=\"title\" translatable=\"yes\">Open a notebook</propert" \
"y>" "</object>" "</child>" "<child>" "<object class=\"GtkShortcutsShortcut\">" "<property name=\"visible\">1</property>" "<property name=\"accelerator\">&lt;ctrl&gt;S</property>" "<property name=\"title\" translatable=\"yes\">Save the notebook</prope" \
"rty>" "</object>" "</child>" "<child>" "<object class=\"GtkShortcutsShortcut\">" "<property name=\"visible\">1</property>" "<property name=\"accelerator\">&lt;Primary&gt;question &lt;Primary&gt;" \
"F1</property>" "<property name=\"title\" translatable=\"yes\">Show shortcuts</property" \
">" "</object>" "</child>" "</object>" "</child>" "<child>" "<object class=\"GtkShortcutsGroup\">" "<property name=\"visible\">1</property>" "<property name=\"title\" translatable=\"yes\">Cells</property>" "<child>" "<object class=\"GtkShortcutsShortcut\">" "<property name=\"visible\">1</property>" "<property name=\"accelerator\">&lt;ctrl&gt;D &lt;ctrl&gt;Delete</prope" \
"rty>" "<property name=\"title\" translatable=\"yes\">Delete selected cells</p" \
"roperty>" "</object>" "</child>" "<child>" "<object class=\"GtkShortcutsShortcut\">" "<property name=\"visible\">1</property>" "<property name=\"accelerator\">&lt;ctrl&gt;Return</property>" "<property name=\"title\" translatable=\"yes\">Evaluate cells</property" \
">" "</object>" "</child>" "<child>" "<object class=\"GtkShortcutsShortcut\">" "<property name=\"visible\">1</property>" "<property name=\"accelerator\">&lt;ctrl&gt;period</property>" "<property name=\"title\" translatable=\"yes\">Abort evaluation</proper" \
"ty>" "</object>" "</child>" "</object>" "</child>" "</object>" "</child>" "</object>" "</interface>");
	shortcut_builder_string = _tmp6_;
	_tmp7_ = strlen (shortcut_builder_string);
	_tmp8_ = _tmp7_;
	_tmp9_ = gtk_builder_new_from_string (shortcut_builder_string, (gssize) _tmp8_);
	shortcut_builder = _tmp9_;
	_tmp10_ = gtk_builder_get_object (shortcut_builder, "shortcuts");
	_tmp11_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, GTK_TYPE_SHORTCUTS_WINDOW) ? ((GtkShortcutsWindow*) _tmp10_) : NULL);
	_g_object_unref0 (self->priv->shortcuts);
	self->priv->shortcuts = _tmp11_;
	_tmp12_ = self->notebook;
	_tmp13_ = seaborg_evaluation_cell_new (_tmp12_);
	g_object_ref_sink (_tmp13_);
	cellA = _tmp13_;
	_tmp14_ = self->notebook;
	_tmp15_ = _g_object_ref0 ((SeaborgICell*) cellA);
	_tmp16_ = g_new0 (SeaborgICell*, 1 + 1);
	_tmp16_[0] = _tmp15_;
	_tmp17_ = _tmp16_;
	_tmp17__length1 = 1;
	seaborg_icell_add_before ((SeaborgICell*) _tmp14_, 0, _tmp17_, 1);
	_tmp17_ = (_vala_array_free (_tmp17_, _tmp17__length1, (GDestroyNotify) g_object_unref), NULL);
	_tmp18_ = self->priv->tab_switcher;
	_tmp19_ = self->priv->notebook_stack;
	gtk_stack_switcher_set_stack (_tmp18_, _tmp19_);
	_tmp20_ = self->priv->notebook_stack;
	_tmp21_ = self->notebook;
	gtk_stack_add_titled (_tmp20_, (GtkWidget*) _tmp21_, "Cell1", "Cell1");
	_tmp22_ = self->priv->main_headerbar;
	gtk_header_bar_set_show_close_button (_tmp22_, TRUE);
	_tmp23_ = self->priv->main_headerbar;
	_tmp24_ = self->priv->tab_switcher;
	gtk_header_bar_set_custom_title (_tmp23_, (GtkWidget*) _tmp24_);
	_tmp25_ = self->priv->notebook_scroll;
	_tmp26_ = self->priv->notebook_stack;
	gtk_container_add ((GtkContainer*) _tmp25_, (GtkWidget*) _tmp26_);
	_tmp27_ = self->priv->main_window;
	gtk_window_set_title ((GtkWindow*) _tmp27_, "Gtk Notebook");
	_tmp28_ = self->priv->main_window;
	_tmp29_ = self->priv->main_headerbar;
	gtk_window_set_titlebar ((GtkWindow*) _tmp28_, (GtkWidget*) _tmp29_);
	_tmp30_ = self->priv->main_window;
	_tmp31_ = self->priv->notebook_scroll;
	gtk_container_add ((GtkContainer*) _tmp30_, (GtkWidget*) _tmp31_);
	_tmp32_ = self->priv->main_window;
	_tmp33_ = self->priv->shortcuts;
	gtk_application_window_set_help_overlay (_tmp32_, _tmp33_);
	_tmp34_ = self->priv->main_window;
	gtk_application_add_window ((GtkApplication*) self, (GtkWindow*) _tmp34_);
	_tmp35_ = self->priv->main_window;
	gtk_window_set_default_size ((GtkWindow*) _tmp35_, 800, 600);
	_tmp36_ = self->priv->main_window;
	gtk_widget_show_all ((GtkWidget*) _tmp36_);
	_g_object_unref0 (shortcut_builder);
	_g_free0 (shortcut_builder_string);
}


static void __lambda15_ (SeaborgSeaborgApplication* self) {
}


static void ___lambda15__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	__lambda15_ ((SeaborgSeaborgApplication*) self);
}


static void __lambda16_ (SeaborgSeaborgApplication* self) {
}


static void ___lambda16__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	__lambda16_ ((SeaborgSeaborgApplication*) self);
}


static void __lambda17_ (SeaborgSeaborgApplication* self) {
}


static void ___lambda17__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	__lambda17_ ((SeaborgSeaborgApplication*) self);
}


static void __lambda18_ (SeaborgSeaborgApplication* self) {
	g_application_quit ((GApplication*) self);
}


static void ___lambda18__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	__lambda18_ ((SeaborgSeaborgApplication*) self);
}


static void __lambda19_ (SeaborgSeaborgApplication* self) {
	SeaborgNotebook* _tmp0_;
	_tmp0_ = self->notebook;
	seaborg_icell_remove_recursively ((SeaborgICell*) _tmp0_);
}


static void ___lambda19__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	__lambda19_ ((SeaborgSeaborgApplication*) self);
}


static void __lambda20_ (SeaborgSeaborgApplication* self) {
	SeaborgNotebook* _tmp0_;
	_tmp0_ = self->notebook;
	seaborg_seaborg_application_schedule_evaluation (self, (SeaborgICellContainer*) _tmp0_);
}


static void ___lambda20__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	__lambda20_ ((SeaborgSeaborgApplication*) self);
}


static void __lambda24_ (SeaborgSeaborgApplication* self) {
	void* _tmp0_;
	_tmp0_ = self->priv->kernel_connection;
	try_abort (_tmp0_);
}


static void ___lambda24__g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	__lambda24_ ((SeaborgSeaborgApplication*) self);
}


static void seaborg_seaborg_application_real_startup (GApplication* base) {
	SeaborgSeaborgApplication * self;
	GMenu* _tmp0_;
	GMenu* _tmp1_;
	GMenu* _tmp2_;
	GMenu* _tmp3_;
	GMenu* _tmp4_;
	GMenu* _tmp5_;
	GMenu* _tmp6_;
	GSimpleAction* new_action = NULL;
	GSimpleAction* _tmp7_;
	GSimpleAction* open_action = NULL;
	GSimpleAction* _tmp8_;
	GSimpleAction* save_action = NULL;
	GSimpleAction* _tmp9_;
	GSimpleAction* remove_action = NULL;
	GSimpleAction* _tmp10_;
	GSimpleAction* quit_action = NULL;
	GSimpleAction* _tmp11_;
	GSimpleAction* eval_action = NULL;
	GSimpleAction* _tmp12_;
	GSimpleAction* stop_eval_action = NULL;
	GSimpleAction* _tmp13_;
	static const gchar* new_accels[] = {"<Control>N", NULL};
	static const gchar* open_accels[] = {"<Control>O", NULL};
	static const gchar* save_accels[] = {"<Control>S", NULL};
	static const gchar* rm_accels[] = {"<Control>Delete", "<Control>D", NULL};
	static const gchar* shortcut_accels[] = {"<Control>F1", "<Control>question", NULL};
	static const gchar* eval_accels[] = {"<Control>Return", "<Control>E", NULL};
	static const gchar* stop_eval_accels[] = {"<Control>period", "<Control>S", NULL};
	static const gchar* quit_accels[] = {"<Control>Q", NULL};
	GQueue* _tmp14_;
	self = (SeaborgSeaborgApplication*) base;
	G_APPLICATION_CLASS (seaborg_seaborg_application_parent_class)->startup ((GApplication*) G_TYPE_CHECK_INSTANCE_CAST (self, gtk_application_get_type (), GtkApplication));
	_tmp0_ = g_menu_new ();
	_g_object_unref0 (self->priv->main_menu);
	self->priv->main_menu = _tmp0_;
	_tmp1_ = self->priv->main_menu;
	g_menu_append (_tmp1_, "New", "app.new");
	_tmp2_ = self->priv->main_menu;
	g_menu_append (_tmp2_, "Open", "app.open");
	_tmp3_ = self->priv->main_menu;
	g_menu_append (_tmp3_, "Save", "app.save");
	_tmp4_ = self->priv->main_menu;
	g_menu_append (_tmp4_, "Keyboard Shortcuts", "win.show-help-overlay");
	_tmp5_ = self->priv->main_menu;
	g_menu_append (_tmp5_, "Quit", "app.quit");
	_tmp6_ = self->priv->main_menu;
	gtk_application_set_app_menu ((GtkApplication*) self, (GMenuModel*) _tmp6_);
	_tmp7_ = g_simple_action_new ("new", NULL);
	new_action = _tmp7_;
	_tmp8_ = g_simple_action_new ("open", NULL);
	open_action = _tmp8_;
	_tmp9_ = g_simple_action_new ("save", NULL);
	save_action = _tmp9_;
	_tmp10_ = g_simple_action_new ("rm", NULL);
	remove_action = _tmp10_;
	_tmp11_ = g_simple_action_new ("quit", NULL);
	quit_action = _tmp11_;
	_tmp12_ = g_simple_action_new ("eval", NULL);
	eval_action = _tmp12_;
	_tmp13_ = g_simple_action_new ("stop", NULL);
	stop_eval_action = _tmp13_;
	g_signal_connect_object (new_action, "activate", (GCallback) ___lambda15__g_simple_action_activate, self, 0);
	g_signal_connect_object (open_action, "activate", (GCallback) ___lambda16__g_simple_action_activate, self, 0);
	g_signal_connect_object (save_action, "activate", (GCallback) ___lambda17__g_simple_action_activate, self, 0);
	g_signal_connect_object (quit_action, "activate", (GCallback) ___lambda18__g_simple_action_activate, self, 0);
	g_signal_connect_object (remove_action, "activate", (GCallback) ___lambda19__g_simple_action_activate, self, 0);
	g_signal_connect_object (eval_action, "activate", (GCallback) ___lambda20__g_simple_action_activate, self, 0);
	g_signal_connect_object (stop_eval_action, "activate", (GCallback) ___lambda24__g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) new_action);
	g_action_map_add_action ((GActionMap*) self, (GAction*) open_action);
	g_action_map_add_action ((GActionMap*) self, (GAction*) save_action);
	g_action_map_add_action ((GActionMap*) self, (GAction*) remove_action);
	g_action_map_add_action ((GActionMap*) self, (GAction*) eval_action);
	g_action_map_add_action ((GActionMap*) self, (GAction*) stop_eval_action);
	g_action_map_add_action ((GActionMap*) self, (GAction*) quit_action);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "app.new", new_accels);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "app.open", open_accels);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "app.save", save_accels);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "app.rm", rm_accels);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "app.quit", quit_accels);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "win.show-help-overlay", shortcut_accels);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "app.eval", eval_accels);
	gtk_application_set_accels_for_action ((GtkApplication*) self, "app.stop", stop_eval_accels);
	seaborg_seaborg_application_reset_kernel (self);
	_tmp14_ = g_queue_new ();
	__g_queue_free__seaborg_evaluation_data_free0_0 (self->priv->eval_queue);
	self->priv->eval_queue = _tmp14_;
	_g_object_unref0 (stop_eval_action);
	_g_object_unref0 (eval_action);
	_g_object_unref0 (quit_action);
	_g_object_unref0 (remove_action);
	_g_object_unref0 (save_action);
	_g_object_unref0 (open_action);
	_g_object_unref0 (new_action);
}


static gpointer _seaborg_evaluation_data_dup0 (gpointer self) {
	return self ? seaborg_evaluation_data_dup (self) : NULL;
}


void seaborg_seaborg_application_schedule_evaluation (SeaborgSeaborgApplication* self, SeaborgICellContainer* container) {
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (container != NULL);
	{
		GQueue* _tmp0_;
		_tmp0_ = self->priv->eval_queue;
		g_rec_mutex_lock (&self->priv->__lock_eval_queue);
		{
			{
				gint i = 0;
				i = 0;
				{
					gboolean _tmp1_ = FALSE;
					_tmp1_ = TRUE;
					while (TRUE) {
						gint _tmp3_;
						SeaborgICellContainer* _tmp4_;
						GArray* _tmp5_;
						GArray* _tmp6_;
						gpointer* _tmp7_;
						gint _tmp7__length1;
						SeaborgICellContainer* _tmp8_;
						GArray* _tmp9_;
						GArray* _tmp10_;
						gpointer* _tmp11_;
						gint _tmp11__length1;
						gint _tmp12_;
						SeaborgICell* _tmp13_;
						gboolean _tmp20_ = FALSE;
						gboolean _tmp21_ = FALSE;
						SeaborgICellContainer* _tmp22_;
						GArray* _tmp23_;
						GArray* _tmp24_;
						gpointer* _tmp25_;
						gint _tmp25__length1;
						gint _tmp26_;
						SeaborgICell* _tmp27_;
						gboolean _tmp28_;
						if (!_tmp1_) {
							gint _tmp2_;
							_tmp2_ = i;
							i = _tmp2_ + 1;
						}
						_tmp1_ = FALSE;
						_tmp3_ = i;
						_tmp4_ = container;
						_tmp5_ = seaborg_icell_container_get_Children (_tmp4_);
						_tmp6_ = _tmp5_;
						_tmp7_ = _tmp6_->data;
						_tmp7__length1 = (gint) _tmp6_->len;
						if (!(_tmp3_ < _tmp7__length1)) {
							break;
						}
						_tmp8_ = container;
						_tmp9_ = seaborg_icell_container_get_Children (_tmp8_);
						_tmp10_ = _tmp9_;
						_tmp11_ = _tmp10_->data;
						_tmp11__length1 = (gint) _tmp10_->len;
						_tmp12_ = i;
						_tmp13_ = _tmp11_[_tmp12_];
						if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, SEABORG_TYPE_ICELL_CONTAINER)) {
							SeaborgICellContainer* _tmp14_;
							GArray* _tmp15_;
							GArray* _tmp16_;
							gpointer* _tmp17_;
							gint _tmp17__length1;
							gint _tmp18_;
							SeaborgICell* _tmp19_;
							_tmp14_ = container;
							_tmp15_ = seaborg_icell_container_get_Children (_tmp14_);
							_tmp16_ = _tmp15_;
							_tmp17_ = _tmp16_->data;
							_tmp17__length1 = (gint) _tmp16_->len;
							_tmp18_ = i;
							_tmp19_ = _tmp17_[_tmp18_];
							seaborg_seaborg_application_schedule_evaluation (self, G_TYPE_CHECK_INSTANCE_CAST (_tmp19_, SEABORG_TYPE_ICELL_CONTAINER, SeaborgICellContainer));
						}
						_tmp22_ = container;
						_tmp23_ = seaborg_icell_container_get_Children (_tmp22_);
						_tmp24_ = _tmp23_;
						_tmp25_ = _tmp24_->data;
						_tmp25__length1 = (gint) _tmp24_->len;
						_tmp26_ = i;
						_tmp27_ = _tmp25_[_tmp26_];
						_tmp28_ = seaborg_icell_marker_selected (_tmp27_);
						if (_tmp28_) {
							SeaborgICellContainer* _tmp29_;
							GArray* _tmp30_;
							GArray* _tmp31_;
							gpointer* _tmp32_;
							gint _tmp32__length1;
							gint _tmp33_;
							SeaborgICell* _tmp34_;
							gboolean _tmp35_;
							gboolean _tmp36_;
							_tmp29_ = container;
							_tmp30_ = seaborg_icell_container_get_Children (_tmp29_);
							_tmp31_ = _tmp30_;
							_tmp32_ = _tmp31_->data;
							_tmp32__length1 = (gint) _tmp31_->len;
							_tmp33_ = i;
							_tmp34_ = _tmp32_[_tmp33_];
							_tmp35_ = seaborg_icell_get_lock (_tmp34_);
							_tmp36_ = _tmp35_;
							_tmp21_ = !_tmp36_;
						} else {
							_tmp21_ = FALSE;
						}
						if (_tmp21_) {
							SeaborgICellContainer* _tmp37_;
							GArray* _tmp38_;
							GArray* _tmp39_;
							gpointer* _tmp40_;
							gint _tmp40__length1;
							gint _tmp41_;
							SeaborgICell* _tmp42_;
							_tmp37_ = container;
							_tmp38_ = seaborg_icell_container_get_Children (_tmp37_);
							_tmp39_ = _tmp38_;
							_tmp40_ = _tmp39_->data;
							_tmp40__length1 = (gint) _tmp39_->len;
							_tmp41_ = i;
							_tmp42_ = _tmp40_[_tmp41_];
							_tmp20_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp42_, SEABORG_TYPE_EVALUATION_CELL);
						} else {
							_tmp20_ = FALSE;
						}
						if (_tmp20_) {
							SeaborgICellContainer* _tmp43_;
							GArray* _tmp44_;
							GArray* _tmp45_;
							gpointer* _tmp46_;
							gint _tmp46__length1;
							gint _tmp47_;
							SeaborgICell* _tmp48_;
							gchar* _tmp49_;
							gchar* _tmp50_;
							gboolean _tmp51_;
							gboolean _tmp52_;
							_tmp43_ = container;
							_tmp44_ = seaborg_icell_container_get_Children (_tmp43_);
							_tmp45_ = _tmp44_;
							_tmp46_ = _tmp45_->data;
							_tmp46__length1 = (gint) _tmp45_->len;
							_tmp47_ = i;
							_tmp48_ = _tmp46_[_tmp47_];
							_tmp49_ = seaborg_icell_get_text ((SeaborgICell*) G_TYPE_CHECK_INSTANCE_CAST (_tmp48_, SEABORG_TYPE_EVALUATION_CELL, SeaborgEvaluationCell));
							_tmp50_ = _tmp49_;
							_tmp51_ = seaborg_check_input_packet (_tmp50_);
							_tmp52_ = _tmp51_;
							_g_free0 (_tmp50_);
							if (_tmp52_) {
								SeaborgICellContainer* _tmp53_;
								GArray* _tmp54_;
								GArray* _tmp55_;
								gpointer* _tmp56_;
								gint _tmp56__length1;
								gint _tmp57_;
								SeaborgICell* _tmp58_;
								SeaborgICellContainer* _tmp59_;
								GArray* _tmp60_;
								GArray* _tmp61_;
								gpointer* _tmp62_;
								gint _tmp62__length1;
								gint _tmp63_;
								SeaborgICell* _tmp64_;
								GQueue* _tmp65_;
								SeaborgICellContainer* _tmp66_;
								GArray* _tmp67_;
								GArray* _tmp68_;
								gpointer* _tmp69_;
								gint _tmp69__length1;
								gint _tmp70_;
								SeaborgICell* _tmp71_;
								SeaborgICellContainer* _tmp72_;
								GArray* _tmp73_;
								GArray* _tmp74_;
								gpointer* _tmp75_;
								gint _tmp75__length1;
								gint _tmp76_;
								SeaborgICell* _tmp77_;
								gchar* _tmp78_;
								gchar* _tmp79_;
								gchar* _tmp80_;
								gchar* _tmp81_;
								gchar* _tmp82_;
								gchar* _tmp83_;
								gchar* _tmp84_;
								SeaborgEvaluationData _tmp85_ = {0};
								SeaborgEvaluationData _tmp86_;
								SeaborgEvaluationData* _tmp87_;
								_tmp53_ = container;
								_tmp54_ = seaborg_icell_container_get_Children (_tmp53_);
								_tmp55_ = _tmp54_;
								_tmp56_ = _tmp55_->data;
								_tmp56__length1 = (gint) _tmp55_->len;
								_tmp57_ = i;
								_tmp58_ = _tmp56_[_tmp57_];
								seaborg_icell_set_lock ((SeaborgICell*) G_TYPE_CHECK_INSTANCE_CAST (_tmp58_, SEABORG_TYPE_EVALUATION_CELL, SeaborgEvaluationCell), TRUE);
								_tmp59_ = container;
								_tmp60_ = seaborg_icell_container_get_Children (_tmp59_);
								_tmp61_ = _tmp60_;
								_tmp62_ = _tmp61_->data;
								_tmp62__length1 = (gint) _tmp61_->len;
								_tmp63_ = i;
								_tmp64_ = _tmp62_[_tmp63_];
								seaborg_evaluation_cell_remove_text (G_TYPE_CHECK_INSTANCE_CAST (_tmp64_, SEABORG_TYPE_EVALUATION_CELL, SeaborgEvaluationCell));
								_tmp65_ = self->priv->eval_queue;
								_tmp66_ = container;
								_tmp67_ = seaborg_icell_container_get_Children (_tmp66_);
								_tmp68_ = _tmp67_;
								_tmp69_ = _tmp68_->data;
								_tmp69__length1 = (gint) _tmp68_->len;
								_tmp70_ = i;
								_tmp71_ = _tmp69_[_tmp70_];
								_tmp72_ = container;
								_tmp73_ = seaborg_icell_container_get_Children (_tmp72_);
								_tmp74_ = _tmp73_;
								_tmp75_ = _tmp74_->data;
								_tmp75__length1 = (gint) _tmp74_->len;
								_tmp76_ = i;
								_tmp77_ = _tmp75_[_tmp76_];
								_tmp78_ = seaborg_icell_get_text ((SeaborgICell*) G_TYPE_CHECK_INSTANCE_CAST (_tmp77_, SEABORG_TYPE_EVALUATION_CELL, SeaborgEvaluationCell));
								_tmp79_ = _tmp78_;
								_tmp80_ = seaborg_replace_characters (_tmp79_);
								_tmp81_ = _tmp80_;
								_tmp82_ = g_strconcat ("ToString[InputForm[", _tmp81_, NULL);
								_tmp83_ = _tmp82_;
								_tmp84_ = g_strconcat (_tmp83_, "]]", NULL);
								memset (&_tmp85_, 0, sizeof (SeaborgEvaluationData));
								_tmp85_.cell = (void*) _tmp71_;
								_g_free0 (_tmp85_.input);
								_tmp85_.input = _tmp84_;
								_tmp86_ = _tmp85_;
								_tmp87_ = _seaborg_evaluation_data_dup0 (&_tmp86_);
								g_queue_push_tail (_tmp65_, _tmp87_);
								seaborg_evaluation_data_destroy (&_tmp86_);
								_g_free0 (_tmp83_);
								_g_free0 (_tmp81_);
								_g_free0 (_tmp79_);
							}
						}
					}
				}
			}
		}
		__finally1:
		{
			GQueue* _tmp88_;
			_tmp88_ = self->priv->eval_queue;
			g_rec_mutex_unlock (&self->priv->__lock_eval_queue);
		}
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
	}
	seaborg_seaborg_application_start_evalutation_thread (self);
}


static gpointer _g_thread_ref0 (gpointer self) {
	return self ? g_thread_ref (self) : NULL;
}


static gboolean ____lambda22_ (SeaborgSeaborgApplication* self) {
	gboolean result = FALSE;
	seaborg_seaborg_application_abort_eval (self);
	result = FALSE;
	return result;
}


static gboolean _____lambda22__gsource_func (gpointer self) {
	gboolean result;
	result = ____lambda22_ ((SeaborgSeaborgApplication*) self);
	return result;
}


static gboolean ____lambda23_ (SeaborgSeaborgApplication* self) {
	gboolean result = FALSE;
	seaborg_seaborg_application_abort_eval (self);
	result = FALSE;
	return result;
}


static gboolean _____lambda23__gsource_func (gpointer self) {
	gboolean result;
	result = ____lambda23_ ((SeaborgSeaborgApplication*) self);
	return result;
}


static void* ___lambda21_ (SeaborgSeaborgApplication* self) {
	void* result = NULL;
	GError * _inner_error_ = NULL;
	self->priv->listener_thread_is_running = TRUE;
	seaborg_evaluation_data_destroy (&self->priv->current_cell);
	memset (&self->priv->current_cell, 0, sizeof (SeaborgEvaluationData));
	while (TRUE) {
		void* _tmp11_;
		gint _tmp12_;
		void* _tmp13_;
		SeaborgEvaluationData _tmp14_;
		const gchar* _tmp15_;
		SeaborgSeaborgApplicationcallback_str _tmp16_;
		SeaborgEvaluationData _tmp17_;
		void* _tmp18_;
		void* _tmp19_;
		gint _tmp20_;
		{
			GQueue* _tmp0_;
			_tmp0_ = self->priv->eval_queue;
			g_rec_mutex_lock (&self->priv->__lock_eval_queue);
			{
				GQueue* _tmp1_;
				guint _tmp2_;
				GQueue* _tmp4_;
				gpointer _tmp5_;
				SeaborgEvaluationData* _tmp6_;
				SeaborgEvaluationData _tmp7_ = {0};
				_tmp1_ = self->priv->eval_queue;
				_tmp2_ = _tmp1_->length;
				if (_tmp2_ <= ((guint) 0)) {
					{
						GQueue* _tmp3_;
						_tmp3_ = self->priv->eval_queue;
						g_rec_mutex_unlock (&self->priv->__lock_eval_queue);
					}
					break;
				}
				_tmp4_ = self->priv->eval_queue;
				_tmp5_ = g_queue_pop_head (_tmp4_);
				_tmp6_ = (SeaborgEvaluationData*) _tmp5_;
				seaborg_evaluation_data_copy (_tmp6_, &_tmp7_);
				seaborg_evaluation_data_destroy (&self->priv->current_cell);
				self->priv->current_cell = _tmp7_;
				_seaborg_evaluation_data_free0 (_tmp6_);
			}
			__finally2:
			{
				GQueue* _tmp8_;
				_tmp8_ = self->priv->eval_queue;
				g_rec_mutex_unlock (&self->priv->__lock_eval_queue);
			}
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return NULL;
			}
		}
		{
			gulong _tmp9_;
			_tmp9_ = seaborg_seaborg_application_global_stamp;
			g_rec_mutex_lock (&__lock_seaborg_seaborg_application_global_stamp);
			{
				seaborg_seaborg_application_global_stamp = (gulong) 1;
			}
			__finally3:
			{
				gulong _tmp10_;
				_tmp10_ = seaborg_seaborg_application_global_stamp;
				g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
			}
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return NULL;
			}
		}
		_tmp11_ = self->priv->kernel_connection;
		_tmp12_ = check_connection (_tmp11_);
		if (_tmp12_ != 1) {
			g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, _____lambda22__gsource_func, g_object_ref (self), g_object_unref);
			result = NULL;
			return result;
		}
		_tmp13_ = self->priv->kernel_connection;
		_tmp14_ = self->priv->current_cell;
		_tmp15_ = _tmp14_.input;
		_tmp16_ = seaborg_seaborg_application_write_to_evaluation_cell;
		_tmp17_ = self->priv->current_cell;
		_tmp18_ = _tmp17_.cell;
		evaluate (_tmp13_, _tmp15_, _tmp16_, _tmp18_);
		_tmp19_ = self->priv->kernel_connection;
		_tmp20_ = check_connection (_tmp19_);
		if (_tmp20_ != 1) {
			g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, _____lambda23__gsource_func, g_object_ref (self), g_object_unref);
			result = NULL;
			return result;
		}
		while (TRUE) {
			{
				gulong _tmp21_;
				_tmp21_ = seaborg_seaborg_application_global_stamp;
				g_rec_mutex_lock (&__lock_seaborg_seaborg_application_global_stamp);
				{
					gulong _tmp22_;
					_tmp22_ = seaborg_seaborg_application_global_stamp;
					if (_tmp22_ == ((gulong) 0)) {
						{
							gulong _tmp23_;
							_tmp23_ = seaborg_seaborg_application_global_stamp;
							g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
						}
						break;
					}
				}
				__finally4:
				{
					gulong _tmp24_;
					_tmp24_ = seaborg_seaborg_application_global_stamp;
					g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
				}
				if (G_UNLIKELY (_inner_error_ != NULL)) {
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
					g_clear_error (&_inner_error_);
					return NULL;
				}
			}
			g_usleep ((gulong) 200);
		}
	}
	self->priv->listener_thread_is_running = FALSE;
	result = NULL;
	return result;
}


static gpointer ____lambda21__gthread_func (gpointer self) {
	gpointer result;
	result = ___lambda21_ ((SeaborgSeaborgApplication*) self);
	g_object_unref (self);
	return result;
}


void seaborg_seaborg_application_start_evalutation_thread (SeaborgSeaborgApplication* self) {
	gboolean _tmp0_ = FALSE;
	GThread* _tmp1_;
	gboolean _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp1_ = self->priv->listener_thread;
	if (_tmp1_ != NULL) {
		gboolean _tmp2_;
		_tmp2_ = self->priv->listener_thread_is_running;
		_tmp0_ = !_tmp2_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GThread* _tmp3_;
		GThread* _tmp4_;
		_tmp3_ = self->priv->listener_thread;
		_tmp4_ = _g_thread_ref0 (_tmp3_);
		g_thread_join (_tmp4_);
	}
	_tmp5_ = self->priv->listener_thread_is_running;
	if (!_tmp5_) {
		GThread* _tmp6_;
		_tmp6_ = g_thread_new ("seaborg-listener", ____lambda21__gthread_func, g_object_ref (self));
		_g_thread_unref0 (self->priv->listener_thread);
		self->priv->listener_thread = _tmp6_;
	}
}


static void seaborg_seaborg_application_abort_eval (SeaborgSeaborgApplication* self) {
	SeaborgEvaluationCell* cell = NULL;
	SeaborgEvaluationData _tmp2_;
	void* _tmp3_;
	SeaborgEvaluationCell* _tmp4_;
	gint res = 0;
	void* _tmp16_;
	gint _tmp17_;
	gint _tmp18_;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	{
		gulong _tmp0_;
		_tmp0_ = seaborg_seaborg_application_global_stamp;
		g_rec_mutex_lock (&__lock_seaborg_seaborg_application_global_stamp);
		{
			seaborg_seaborg_application_global_stamp = (gulong) 0;
		}
		__finally5:
		{
			gulong _tmp1_;
			_tmp1_ = seaborg_seaborg_application_global_stamp;
			g_rec_mutex_unlock (&__lock_seaborg_seaborg_application_global_stamp);
		}
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
	}
	_tmp2_ = self->priv->current_cell;
	_tmp3_ = _tmp2_.cell;
	cell = (SeaborgEvaluationCell*) _tmp3_;
	_tmp4_ = cell;
	if (_tmp4_ != NULL) {
		SeaborgEvaluationCell* _tmp5_;
		_tmp5_ = cell;
		seaborg_icell_set_lock ((SeaborgICell*) _tmp5_, FALSE);
	}
	{
		GQueue* _tmp6_;
		_tmp6_ = self->priv->eval_queue;
		g_rec_mutex_lock (&self->priv->__lock_eval_queue);
		{
			while (TRUE) {
				GQueue* _tmp7_;
				guint _tmp8_;
				GQueue* _tmp9_;
				gpointer _tmp10_;
				SeaborgEvaluationData* _tmp11_;
				void* _tmp12_;
				SeaborgEvaluationCell* _tmp13_;
				_tmp7_ = self->priv->eval_queue;
				_tmp8_ = _tmp7_->length;
				if (_tmp8_ <= ((guint) 0)) {
					break;
				}
				_tmp9_ = self->priv->eval_queue;
				_tmp10_ = g_queue_pop_head (_tmp9_);
				_tmp11_ = (SeaborgEvaluationData*) _tmp10_;
				_tmp12_ = (*_tmp11_).cell;
				cell = (SeaborgEvaluationCell*) _tmp12_;
				_seaborg_evaluation_data_free0 (_tmp11_);
				_tmp13_ = cell;
				if (_tmp13_ != NULL) {
					SeaborgEvaluationCell* _tmp14_;
					_tmp14_ = cell;
					seaborg_icell_set_lock ((SeaborgICell*) _tmp14_, FALSE);
				}
			}
		}
		__finally6:
		{
			GQueue* _tmp15_;
			_tmp15_ = self->priv->eval_queue;
			g_rec_mutex_unlock (&self->priv->__lock_eval_queue);
		}
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
	}
	_tmp16_ = self->priv->kernel_connection;
	_tmp17_ = check_connection (_tmp16_);
	res = _tmp17_;
	_tmp18_ = res;
	if (_tmp18_ != 1) {
		gint _tmp19_;
		_tmp19_ = res;
		if (_tmp19_ == 2) {
			void* _tmp20_;
			void* _tmp21_;
			gint _tmp22_;
			_tmp20_ = self->priv->kernel_connection;
			try_reset_after_abort (_tmp20_);
			_tmp21_ = self->priv->kernel_connection;
			_tmp22_ = check_connection (_tmp21_);
			if (_tmp22_ != 1) {
				seaborg_seaborg_application_kernel_msg (self, "Kernel connection lost");
			}
		} else {
			seaborg_seaborg_application_kernel_msg (self, "Kernel connection lost");
		}
	}
	self->priv->listener_thread_is_running = FALSE;
}


static void seaborg_seaborg_application_reset_kernel (SeaborgSeaborgApplication* self) {
	void* _tmp0_;
	gchar* init_string = NULL;
	gchar* _tmp4_;
	const gchar* _tmp5_;
	void* _tmp6_;
	void* _tmp7_;
	gint _tmp8_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->kernel_connection;
	if (_tmp0_ != NULL) {
		void* _tmp1_;
		gint _tmp2_;
		_tmp1_ = self->priv->kernel_connection;
		_tmp2_ = check_connection (_tmp1_);
		if (_tmp2_ != -1) {
			void* _tmp3_;
			_tmp3_ = self->priv->kernel_connection;
			close_connection (_tmp3_);
		}
	}
	_tmp4_ = g_str_to_ascii ("-linkname \"math -wstp -mathlink\"", NULL);
	init_string = _tmp4_;
	_tmp5_ = init_string;
	_tmp6_ = init_connection (_tmp5_);
	self->priv->kernel_connection = _tmp6_;
	_tmp7_ = self->priv->kernel_connection;
	_tmp8_ = check_connection (_tmp7_);
	if (_tmp8_ != 1) {
		seaborg_seaborg_application_kernel_msg (self, "Error resetting connection");
	}
	_g_free0 (init_string);
}


void seaborg_seaborg_application_kernel_msg (SeaborgSeaborgApplication* self, const gchar* _error_) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (_error_ != NULL);
}


SeaborgSeaborgApplication* seaborg_seaborg_application_construct (GType object_type) {
	SeaborgSeaborgApplication * self = NULL;
	self = (SeaborgSeaborgApplication*) g_object_new (object_type, NULL);
	return self;
}


SeaborgSeaborgApplication* seaborg_seaborg_application_new (void) {
	return seaborg_seaborg_application_construct (SEABORG_TYPE_SEABORG_APPLICATION);
}


static void seaborg_seaborg_application_class_init (SeaborgSeaborgApplicationClass * klass) {
	seaborg_seaborg_application_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (SeaborgSeaborgApplicationPrivate));
	((GApplicationClass *) klass)->activate = (void (*) (GApplication *)) seaborg_seaborg_application_real_activate;
	((GApplicationClass *) klass)->startup = (void (*) (GApplication *)) seaborg_seaborg_application_real_startup;
	G_OBJECT_CLASS (klass)->finalize = seaborg_seaborg_application_finalize;
	g_rec_mutex_init (&__lock_seaborg_seaborg_application_global_stamp);
	seaborg_seaborg_application_write_to_evaluation_cell = __seaborg_seaborg_application_write_to_evaluation_cell_lambda4__seaborgseaborgapplicationcallback_str;
}


static void seaborg_seaborg_application_instance_init (SeaborgSeaborgApplication * self) {
	self->priv = SEABORG_SEABORG_APPLICATION_GET_PRIVATE (self);
	g_rec_mutex_init (&self->priv->__lock_eval_queue);
	self->priv->listener_thread_is_running = FALSE;
}


static void seaborg_seaborg_application_finalize (GObject * obj) {
	SeaborgSeaborgApplication * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SEABORG_TYPE_SEABORG_APPLICATION, SeaborgSeaborgApplication);
	seaborg_evaluation_data_destroy (&self->priv->current_cell);
	_g_object_unref0 (self->priv->main_window);
	_g_object_unref0 (self->priv->main_headerbar);
	_g_object_unref0 (self->priv->tab_switcher);
	_g_object_unref0 (self->priv->notebook_stack);
	_g_object_unref0 (self->priv->main_menu);
	_g_object_unref0 (self->priv->notebook_scroll);
	_g_object_unref0 (self->notebook);
	_g_object_unref0 (self->priv->shortcuts);
	g_rec_mutex_clear (&self->priv->__lock_eval_queue);
	__g_queue_free__seaborg_evaluation_data_free0_0 (self->priv->eval_queue);
	_g_thread_unref0 (self->priv->listener_thread);
	G_OBJECT_CLASS (seaborg_seaborg_application_parent_class)->finalize (obj);
}


GType seaborg_seaborg_application_get_type (void) {
	static volatile gsize seaborg_seaborg_application_type_id__volatile = 0;
	if (g_once_init_enter (&seaborg_seaborg_application_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SeaborgSeaborgApplicationClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) seaborg_seaborg_application_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SeaborgSeaborgApplication), 0, (GInstanceInitFunc) seaborg_seaborg_application_instance_init, NULL };
		GType seaborg_seaborg_application_type_id;
		seaborg_seaborg_application_type_id = g_type_register_static (gtk_application_get_type (), "SeaborgSeaborgApplication", &g_define_type_info, 0);
		g_once_init_leave (&seaborg_seaborg_application_type_id__volatile, seaborg_seaborg_application_type_id);
	}
	return seaborg_seaborg_application_type_id__volatile;
}


gint seaborg_main (gchar** args, int args_length1) {
	gint result = 0;
	SeaborgSeaborgApplication* _tmp0_;
	SeaborgSeaborgApplication* _tmp1_;
	gchar** _tmp2_;
	gint _tmp2__length1;
	gint _tmp3_;
	gint _tmp4_;
	_tmp0_ = seaborg_seaborg_application_new ();
	_tmp1_ = _tmp0_;
	_tmp2_ = args;
	_tmp2__length1 = args_length1;
	_tmp3_ = g_application_run ((GApplication*) _tmp1_, _tmp2__length1, _tmp2_);
	_tmp4_ = _tmp3_;
	_g_object_unref0 (_tmp1_);
	result = _tmp4_;
	return result;
}


int main (int argc, char ** argv) {
#if !GLIB_CHECK_VERSION (2,35,0)
	g_type_init ();
#endif
	return seaborg_main (argv, argc);
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



